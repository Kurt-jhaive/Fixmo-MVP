<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Provider Dashboard - Fixmo</title>
    <link rel="stylesheet" href="css/provider-dashboard.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="nav-container">
            <div class="nav-left">
                <div class="logo">
                    <i class="fas fa-tools"></i>
                    <span>Fixmo Provider</span>
                </div>
            </div>
            <div class="nav-right">
                <div class="provider-info">
                    <span id="providerName">Loading...</span>
                    <div class="provider-menu">
                        <button class="profile-btn" onclick="showProfile()">
                            <i class="fas fa-user"></i>
                        </button>
                        <button class="logout-btn" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i>
                            Logout
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <nav class="sidebar-nav">
            <ul>
                <li>
                    <a href="#" class="nav-link active" data-section="dashboard">
                        <i class="fas fa-chart-bar"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link" data-section="manage-services">
                        <i class="fas fa-cogs"></i>
                        <span>Manage Services</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link" data-section="bookings">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Bookings</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link" data-section="availability">
                        <i class="fas fa-clock"></i>
                        <span>Availability</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link" data-section="profile">
                        <i class="fas fa-user-edit"></i>
                        <span>Edit Profile</span>
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Section -->
        <section id="dashboard-section" class="content-section active">
            <div class="section-header">
                <h1>Dashboard Overview</h1>
                <p>Welcome back! Here's what's happening with your services.</p>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-briefcase"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalServices">0</h3>
                        <p>Active Services</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalBookings">0</h3>
                        <p>Total Bookings</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="averageRating">0.0</h3>
                        <p>Average Rating</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-peso-sign"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalEarnings">₱0</h3>
                        <p>Total Earnings</p>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>Recent Bookings</h3>
                    <div id="recentBookings" class="activity-list">
                        <p class="no-data">No recent bookings</p>
                    </div>
                </div>
                <div class="dashboard-card">
                    <h3>Service Performance</h3>
                    <div id="servicePerformance" class="performance-list">
                        <p class="no-data">No services yet</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Manage Services Section -->
        <section id="manage-services-section" class="content-section">
            <div class="section-header">
                <h1>Manage Services</h1>
                <p>Add, edit, and manage your service offerings.</p>
                <button class="btn btn-primary" onclick="showAddServiceModal()">
                    <i class="fas fa-plus"></i>
                    Add New Service
                </button>
            </div>

            <!-- Services List -->
            <div class="services-container">
                <div id="servicesList" class="services-grid">
                    <div class="loading">Loading your services...</div>
                </div>
            </div>
        </section>

        <!-- Bookings Section -->
        <section id="bookings-section" class="content-section">
            <div class="section-header">
                <h1>Bookings Management</h1>
                <p>Manage your appointments and bookings.</p>
            </div>
            <div class="bookings-container">
                <div id="bookingsList" class="bookings-list">
                    <p class="no-data">No bookings found</p>
                </div>
            </div>
        </section>

        <!-- Availability Section -->
        <section id="availability-section" class="content-section">
            <div class="section-header">
                <h1>Availability Settings</h1>
                <p>Set your working hours and availability.</p>
            </div>
            <div class="availability-container">
                <div id="availabilitySettings" class="availability-grid">
                    <p class="no-data">Availability settings will be loaded here</p>
                </div>
            </div>
        </section>

        <!-- Profile Section -->
        <section id="profile-section" class="content-section">
            <div class="section-header">
                <h1>Edit Profile</h1>
                <p>Update your profile information and settings.</p>
            </div>
            <div class="profile-container">
                <div id="profileForm" class="profile-form">
                    <p class="no-data">Profile form will be loaded here</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Add Service Modal -->
    <div id="addServiceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Service</h2>
                <span class="close" onclick="closeAddServiceModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="addServiceForm">
                    <div class="form-group">
                        <label for="certificate_id">Certificate:</label>
                        <select id="certificate_id" name="certificate_id" required>
                            <option value="">Select a certificate</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="service_name">Service Name:</label>
                        <input type="text" id="service_name" name="service_name" required>
                    </div>
                    <div class="form-group">
                        <label for="service_description">Description:</label>
                        <textarea id="service_description" name="service_description" rows="4" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="price_per_hour">Price per Hour (₱):</label>
                        <input type="number" id="price_per_hour" name="price_per_hour" min="0" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="estimated_duration">Estimated Duration (hours):</label>
                        <input type="number" id="estimated_duration" name="estimated_duration" min="0.5" step="0.5" required>
                    </div>
                    <div class="form-actions">
                        <button type="button" onclick="closeAddServiceModal()">Cancel</button>
                        <button type="submit">Add Service</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Loading overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="spinner"></div>
        <p>Loading...</p>
    </div>

    <!-- Scripts -->
    <script src="js/provider-dashboard.js"></script>
</body>
</html>
